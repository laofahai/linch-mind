# Linch Mind Daemon - 生产环境配置
# 生产环境优化：安全加密、性能优化、资源监控

[environment]
name = "production"

[server]
debug = false               # 生产环境关闭调试模式
log_level = "INFO"          # 生产环境标准日志级别

[server.ipc]
socket_path = "~/.linch-mind/production/daemon.socket"  # 生产环境Socket路径
timeout = 15                # IPC超时时间(秒) - 生产环境紧凑设置
buffer_size = 16384         # 更大缓冲区 - 生产环境高性能

[database]
use_encryption = true       # 🔒 生产环境强制SQLCipher加密
backup_enabled = true       # 生产环境必须备份
backup_interval_hours = 4   # 4小时备份间隔
connection_pool_size = 20   # 大连接池 - 高并发支持
query_timeout = 10          # 更短查询超时 - 快速失败
auto_vacuum = true          # 自动清理数据库碎片

[ai]
default_embedding_model = "all-MiniLM-L6-v2"  # 生产环境稳定模型
cache_embeddings = true     # 生产环境必须启用缓存

[ai.providers.openai]
enabled = true              # OpenAI provider
api_key_env = "OPENAI_API_KEY"  # 环境变量读取，安全第一
model = "gpt-4"             # 生产环境使用最佳模型
max_tokens = 4000           # 更高token限制

[storage]
vector_dimension = 384      # 向量维度
vector_index_type = "faiss" # FAISS向量索引
vector_max_workers = 8      # 生产环境高并发worker
enable_backup = true        # 向量数据备份
backup_interval_hours = 6   # 6小时备份间隔
compression = "gzip"        # 压缩备份文件

[connector]
health_check_interval = 60  # 生产环境较长检查间隔(减少开销)
auto_restart_failed = true  # 自动重启失败连接器
max_restart_attempts = 10   # 生产环境更多重试机会
startup_delay = 5           # 生产环境谨慎启动延迟
memory_limit_mb = 512       # 连接器内存限制
