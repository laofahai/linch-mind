# Linch Mind é¡¹ç›®å¼€å‘ä¸Šä¸‹æ–‡

## ğŸ’€ å¼€å‘å¼ºåˆ¶è¦æ±‚

âš ï¸ **è­¦å‘Šï¼šä»¥ä¸‹ä¸ºç»å¯¹å¼ºåˆ¶è¦æ±‚ï¼Œä»»ä½•è¿åå°†å¯¼è‡´ä¸¥é‡åæœ**

### ğŸš« æŠ€æœ¯æ¶æ„é“å¾‹ï¼ˆè¿åè€…æ‰¿æ‹…å…¨éƒ¨è´£ä»»ï¼‰
**ç»å¯¹ç¦æ­¢äº‹é¡¹**ï¼š
1. **IPCé€šä¿¡çº¢çº¿**ï¼šğŸš« **ä¸¥ç¦**å¼•å…¥ä»»ä½•HTTP/REST APIé€šä¿¡æ–¹å¼
2. **ä¾èµ–ç®¡ç†çº¢çº¿**ï¼šğŸš« **ä¸¥ç¦**ä½¿ç”¨pip/condaï¼Œå¿…é¡»ä½¿ç”¨Poetryç®¡ç†
3. **æ€§èƒ½åº•çº¿**ï¼šğŸš« **ä¸¥ç¦**æ¥å—IPCå»¶è¿Ÿ>10msçš„ä»»ä½•å®ç°
4. **æ¶æ„æ±¡æŸ“**ï¼šğŸš« **ä¸¥ç¦**åœ¨IPCæ¶æ„ä¸­æ··åˆHTTPç»„ä»¶
5. **é…ç½®æ ¼å¼çº¢çº¿**ï¼šğŸš« **ä¸¥ç¦**ä½¿ç”¨YAML/JSONé…ç½®ï¼Œå¿…é¡»ä½¿ç”¨TOMLæ ¼å¼
6. **ç¯å¢ƒå˜é‡çº¢çº¿**ï¼šğŸš« **ä¸¥ç¦**ä¾èµ–ç¯å¢ƒå˜é‡ï¼Œå¿…é¡»ä½¿ç”¨é…ç½®æ–‡ä»¶é©±åŠ¨

### âš”ï¸ Sub-agentå’¨è¯¢é“å¾‹ï¼ˆè¿å=é¡¹ç›®é£é™©ï¼‰

#### âš¡ å¼ºåˆ¶å’¨è¯¢åœºæ™¯ï¼ˆæ— ä¾‹å¤–ï¼‰
- **core-development-architect**ï¼šä»»ä½•æ¶‰åŠ>3ä¸ªæ–‡ä»¶çš„ä¿®æ”¹
- **ui-ux-specialist**ï¼šä»»ä½•Flutterç•Œé¢å˜æ›´
- **data-architecture-specialist**ï¼šä»»ä½•æ•°æ®åº“ç»“æ„è°ƒæ•´
- **test-specialist**ï¼šä»»ä½•æ–°åŠŸèƒ½å¼€å‘å¿…é¡»é…å¥—æµ‹è¯•
- **project-docs-manager**ï¼šä»»ä½•æ¶æ„å˜æ›´å¿…é¡»åŒæ­¥æ–‡æ¡£

#### ğŸ”´ è¿è§„ç­‰çº§ä¸åæœ
- **Sçº§è¿è§„**ï¼ˆæ¶æ„ç ´åï¼‰ï¼šç«‹å³åœæ­¢ï¼Œå›æ»šæ‰€æœ‰å˜æ›´
- **Açº§è¿è§„**ï¼ˆè·³è¿‡å¿…è¦å’¨è¯¢ï¼‰ï¼šé‡æ–°è®¾è®¡ï¼Œå»¶é•¿å¼€å‘å‘¨æœŸ
- **Bçº§è¿è§„**ï¼ˆæµç¨‹ä¸å½“ï¼‰ï¼šè¡¥å……å¿…è¦æ­¥éª¤ï¼Œè®°å½•è­¦å‘Š

### ğŸ›¡ï¸ å¼€å‘æ£€æŸ¥ç‚¹åˆ¶åº¦

#### ğŸ’€ æ¯æ¬¡å¼€å‘å‰å¼ºåˆ¶ç¡®è®¤
1. **æ¶æ„å½±å“è¯„ä¼°**ï¼šæ˜¯å¦ç ´åIPCæ¶æ„å®Œæ•´æ€§ï¼Ÿ
2. **æ€§èƒ½å½±å“è¯„ä¼°**ï¼šæ˜¯å¦å½±å“<5ms IPCé€šä¿¡æ€§èƒ½ï¼Ÿ
3. **ä¾èµ–å†²çªè¯„ä¼°**ï¼šæ˜¯å¦å¼•å…¥éPoetryç®¡ç†çš„åŒ…ï¼Ÿ
4. **ä¸“ä¸šåº¦è¯„ä¼°**ï¼šæ˜¯å¦éœ€è¦ä¸“ä¸šSub-agentæ”¯æŒï¼Ÿ

#### âš¡ è¿è§„è‡ªåŠ¨æ£€æµ‹æœºåˆ¶
- ä»£ç æ‰«ææ£€æµ‹HTTPæ®‹ç•™å¼•ç”¨
- æ€§èƒ½åŸºå‡†æµ‹è¯•æ£€æµ‹å»¶è¿Ÿå›å½’
- ä¾èµ–åˆ†ææ£€æµ‹éPoetryåŒ…
- æ–‡æ¡£åŒæ­¥æ£€æµ‹æ¶æ„åç¦»

### ğŸ¯ å¼€å‘ä¼˜å…ˆçº§å†›è§„
1. **ç´§æ€¥**ï¼šå½±å“ç”¨æˆ·æ ¸å¿ƒåŠŸèƒ½çš„P0é—®é¢˜ï¼ˆç«‹å³å¤„ç†ï¼‰
2. **é‡è¦**ï¼šæ¶æ„ç¨³å®šæ€§å’Œæ€§èƒ½å›å½’ï¼ˆ24å°æ—¶å†…ï¼‰
3. **å¸¸è§„**ï¼šåŠŸèƒ½å¢å¼ºå’Œç”¨æˆ·ä½“éªŒæ”¹è¿›ï¼ˆæŒ‰è®¡åˆ’ï¼‰
4. **ç»´æŠ¤**ï¼šæŠ€æœ¯å€ºåŠ¡å’Œä»£ç ä¼˜åŒ–ï¼ˆå®šæœŸå¤„ç†ï¼‰

### âš ï¸ é—®è´£ä¸æ”¹è¿›æœºåˆ¶
- æ¯æ¬¡è¿è§„è®°å½•åŸå› åˆ†æå’Œæ”¹è¿›æªæ–½
- é‡å¤è¿è§„å°†è§¦å‘æµç¨‹reviewå’ŒåŠ å¼ºåŸ¹è®­
- ä¸¥é‡è¿è§„å°†è¦æ±‚architectural decision record (ADR)

## é¡¹ç›®æ¦‚è§ˆ
- **é¡¹ç›®åç§°**: Linch Mind - ä¸ªäººAIç”Ÿæ´»åŠ©æ‰‹
- **æ ¸å¿ƒå®šä½**: è·¨åº”ç”¨æ™ºèƒ½è¿æ¥å™¨ + ä¸»åŠ¨æ¨èå¼•æ“ + ä¸ªäººæ•°æ®æ´å¯Ÿå¹³å°
- **å½“å‰é˜¶æ®µ**: IPCæ¶æ„çš„é«˜æ€§èƒ½æœ¬åœ°æœåŠ¡
- **æ ¸å¿ƒæ¶æ„**: Flutter + Python IPC Daemon + C++è¿æ¥å™¨
- **æŠ€æœ¯æ ˆ**: Flutter (è·¨å¹³å°UI), Python IPC (åç«¯æœåŠ¡), SQLite, FAISS

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### IPCæ¶æ„è®¾è®¡
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Flutter è·¨å¹³å°UI               â”‚
â”‚  - æ™ºèƒ½æ¨èç•Œé¢                          â”‚
â”‚  - AIå¯¹è¯äº¤äº’                            â”‚
â”‚  - ç³»ç»ŸçŠ¶æ€ç›‘æ§                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        Python IPC Daemon               â”‚
â”‚  - IPCæœåŠ¡å™¨ (Unix Socket/Named Pipe)   â”‚
â”‚  - æ™ºèƒ½æ¨èå¼•æ“ (NetworkX + FAISS)      â”‚
â”‚  - æ•°æ®æœåŠ¡ (SQLAlchemy + SQLite)       â”‚
â”‚  - è¿æ¥å™¨ç®¡ç†                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          C++ è¿æ¥å™¨ç”Ÿæ€                   â”‚
â”‚  - æ–‡ä»¶ç³»ç»Ÿè¿æ¥å™¨                        â”‚
â”‚  - å‰ªè´´æ¿è¿æ¥å™¨                          â”‚
â”‚  - æœªæ¥æ‰©å±•è¿æ¥å™¨                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å½“å‰æŠ€æœ¯ç°çŠ¶
### âœ… å·²å®ç°çš„åŸºç¡€è®¾æ–½ (ç”Ÿäº§çº§å®Œæˆåº¦)
1. **Python IPC Daemon**: çº¯IPCæ¶æ„ + SQLiteå­˜å‚¨ + å®Œæ•´æµ‹è¯•è¦†ç›–(31/31é€šè¿‡)
2. **è¿æ¥å™¨ç³»ç»Ÿ**: æ–‡ä»¶ç³»ç»Ÿã€å‰ªè´´æ¿è¿æ¥å™¨ (C++) + çƒ­æ’æ‹”ç®¡ç†
3. **æ•°æ®å¤„ç†**: NetworkXçŸ¥è¯†å›¾è°± + FAISSå‘é‡æœç´¢ + MLæ¨èå¼•æ“
4. **Flutter UI**: è·¨å¹³å°ç•Œé¢ + RiverpodçŠ¶æ€ç®¡ç† + IPCé€šä¿¡
5. **ç³»ç»Ÿç®¡ç†**: ç»Ÿä¸€å¯åŠ¨è„šæœ¬ + è¿›ç¨‹ç®¡ç† + å¥åº·æ£€æŸ¥
6. **ç¯å¢ƒéš”ç¦»ç³»ç»Ÿ**: å®Œæ•´çš„å¤šç¯å¢ƒæ”¯æŒ (development/staging/production) + ä¸€é”®åˆå§‹åŒ–
7. **ç°ä»£åŒ–æ¶æ„**: ServiceFacadeç»Ÿä¸€æœåŠ¡ç®¡ç† + æ ‡å‡†åŒ–é”™è¯¯å¤„ç† + DIå®¹å™¨
8. **ä»£ç è´¨é‡**: é‡å¤ç‡ä»>60%é™è‡³<5% + 91ä¸ªé‡å¤è°ƒç”¨ç»Ÿä¸€åŒ– + 424ä¸ªé”™è¯¯æ¨¡å¼æ ‡å‡†åŒ–

## ğŸ¯ å¼€å‘é‡ç‚¹

### å½“å‰çŠ¶æ€ (ç”Ÿäº§å°±ç»ª)
- **æ¶æ„è¿ç§»**: âœ… å·²å®ŒæˆHTTPåˆ°IPCæ¶æ„çš„å®Œæ•´è¿ç§» (æ€§èƒ½æå‡90%+)
- **æ•°æ®çœŸå®åŒ–**: âœ… çŸ¥è¯†å›¾è°±å’Œæ¨èç³»ç»Ÿå®Œå…¨åŸºäºçœŸå®æ•°æ®
- **æ€§èƒ½ä¼˜åŒ–**: âœ… IPCé€šä¿¡å»¶è¿Ÿ<1msï¼ŒRPS>30,000ï¼Œå†…å­˜å ç”¨<500MB
- **ç³»ç»Ÿç¨³å®š**: âœ… ç»Ÿä¸€å¯åŠ¨è„šæœ¬ï¼Œè‡ªåŠ¨åŒ–è¿æ¥å™¨ç®¡ç†ï¼Œ31ä¸ªæ ¸å¿ƒæµ‹è¯•å…¨é€šè¿‡
- **ç¯å¢ƒç®¡ç†**: âœ… å®Œæ•´ç¯å¢ƒéš”ç¦»ï¼Œæ”¯æŒdev/staging/prodç¯å¢ƒä¸€é”®åˆ‡æ¢+SQLCipheråŠ å¯†
- **ä»£ç è´¨é‡**: âœ… P0é‡æ„å®Œæˆï¼ŒServiceFacade+é”™è¯¯å¤„ç†æ ‡å‡†åŒ–ï¼Œæ¶æ„ç°ä»£åŒ–æ°´å¹³æå‡æ˜¾è‘—
- **æµ‹è¯•è¦†ç›–**: âœ… æ ¸å¿ƒç»„ä»¶æµ‹è¯•è¦†ç›–ç‡>80%ï¼Œé›†æˆæµ‹è¯•å®Œæ•´ï¼Œæ€§èƒ½åŸºå‡†å®Œå¤‡
- **é…ç½®ç®¡ç†**: âœ… å®Œæ•´TOMLé…ç½®æ–‡ä»¶ç³»ç»Ÿï¼Œé›¶ç¯å¢ƒå˜é‡ä¾èµ–ï¼Œç”¨æˆ·å‹å¥½çš„é…ç½®ç®¡ç†

### ä¸‹é˜¶æ®µè®¡åˆ’
- **AIæœåŠ¡é›†æˆ**: é›†æˆå¤šç§AIæä¾›è€…API
- **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**: æ”¹è¿›æ¨èç®—æ³•å’Œç•Œé¢äº¤äº’
- **è¿æ¥å™¨æ‰©å±•**: å¼€å‘æ›´å¤šæ•°æ®æºè¿æ¥å™¨
- **è·¨å¹³å°é€‚é…**: ä¼˜åŒ–ç§»åŠ¨ç«¯å’ŒWebç«¯ä½“éªŒ

## ğŸ“ é¡¹ç›®ç»“æ„

```
linch-mind/
â”œâ”€â”€ daemon/                    # Python IPCåç«¯æœåŠ¡
â”‚   â”œâ”€â”€ core/                 # æ ¸å¿ƒæ¶æ„ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ service_facade.py # ServiceFacadeç»Ÿä¸€æœåŠ¡ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ error_handling.py # æ ‡å‡†åŒ–é”™è¯¯å¤„ç†æ¡†æ¶
â”‚   â”‚   â”œâ”€â”€ container.py      # DIå®¹å™¨å¢å¼ºåŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ environment_manager.py # ç¯å¢ƒéš”ç¦»ç®¡ç†
â”‚   â”‚   â””â”€â”€ database_manager.py    # æ•°æ®åº“ç®¡ç†å™¨
â”‚   â”œâ”€â”€ services/             # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ ipc/             # IPCé€šä¿¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ connectors/      # è¿æ¥å™¨ç®¡ç†æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ storage/         # å­˜å‚¨å’Œæ•°æ®å¤„ç†
â”‚   â”‚   â””â”€â”€ cached_networkx_service.py # NetworkXå›¾æœåŠ¡
â”‚   â”œâ”€â”€ tests/               # æµ‹è¯•å¥—ä»¶
â”‚   â”œâ”€â”€ scripts/             # åˆå§‹åŒ–å’Œç®¡ç†è„šæœ¬
â”‚   â”œâ”€â”€ pyproject.toml       # Poetryä¾èµ–ç®¡ç†
â”‚   â””â”€â”€ main.py              # åº”ç”¨å…¥å£ç‚¹
â”œâ”€â”€ ui/                       # Flutterè·¨å¹³å°UI
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ models/          # æ•°æ®æ¨¡å‹ï¼ˆFreezedï¼‰
â”‚   â”‚   â”œâ”€â”€ providers/       # RiverpodçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ screens/         # ç•Œé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/        # IPCå®¢æˆ·ç«¯æœåŠ¡
â”‚   â”‚   â””â”€â”€ widgets/         # å¯å¤ç”¨UIç»„ä»¶
â”‚   â”œâ”€â”€ test/                # Flutteræµ‹è¯•
â”‚   â””â”€â”€ pubspec.yaml         # Flutterä¾èµ–ç®¡ç†
â”œâ”€â”€ connectors/              # C++è¿æ¥å™¨ç”Ÿæ€
â”‚   â”œâ”€â”€ shared/              # å…±äº«C++åº“
â”‚   â”œâ”€â”€ official/            # å®˜æ–¹è¿æ¥å™¨
â”‚   â”‚   â”œâ”€â”€ clipboard/       # å‰ªè´´æ¿è¿æ¥å™¨
â”‚   â”‚   â””â”€â”€ filesystem/      # æ–‡ä»¶ç³»ç»Ÿè¿æ¥å™¨
â”‚   â””â”€â”€ third-party/         # ç¬¬ä¸‰æ–¹è¿æ¥å™¨
â”œâ”€â”€ docs/                    # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ 01_technical_design/ # æŠ€æœ¯è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ 02_api_reference/    # APIå‚è€ƒæ‰‹å†Œ
â”‚   â””â”€â”€ 03_development_guides/ # å¼€å‘æŒ‡å—
â”œâ”€â”€ scripts/                 # æ„å»ºå’Œéƒ¨ç½²è„šæœ¬
â”œâ”€â”€ linch-mind*              # ç»Ÿä¸€ç®¡ç†è„šæœ¬
â”œâ”€â”€ CLAUDE.md                # å¼€å‘ä¸Šä¸‹æ–‡å’Œé“å¾‹
â””â”€â”€ README.md                # é¡¹ç›®ä»‹ç»
```

### ğŸ¯ ç›®å½•èŒè´£è¯´æ˜
- **daemon/core/**: ç°ä»£åŒ–æ¶æ„æ ¸å¿ƒç»„ä»¶ï¼ŒServiceFacade + é”™è¯¯å¤„ç†
- **daemon/services/**: ä¸šåŠ¡é€»è¾‘å±‚ï¼Œä¸¥æ ¼éµå¾ªDIæ¨¡å¼
- **ui/lib/**: Flutter UIå®ç°ï¼ŒRiverpod + IPCé€šä¿¡
- **connectors/**: é«˜æ€§èƒ½C++è¿æ¥å™¨ï¼ŒCMakeæ„å»º
- **tests/**: å®Œæ•´æµ‹è¯•å¥—ä»¶ï¼Œ>80%ä»£ç è¦†ç›–ç‡
- **docs/**: æ¶æ„æ–‡æ¡£å’Œå¼€å‘æŒ‡å—

## ğŸ”§ å¼€å‘ç¯å¢ƒ

### ğŸš€ é¡¹ç›®å¯åŠ¨ï¼ˆå·²éªŒè¯ï¼‰
```bash
# åˆå§‹åŒ–ç¯å¢ƒï¼ˆé¦–æ¬¡è¿è¡Œæˆ–æ–°ç¯å¢ƒï¼‰
./linch-mind init [env]         # å¯é€‰: development/staging/production
./linch-mind init --force       # å¼ºåˆ¶é‡æ–°åˆå§‹åŒ–

# å¯åŠ¨å®Œæ•´åº”ç”¨
./linch-mind start              # å¯åŠ¨daemon + UI

# åˆ†æ­¥å¯åŠ¨å’Œç®¡ç†
./linch-mind daemon start       # å¯åŠ¨daemonæœåŠ¡
./linch-mind daemon stop        # åœæ­¢daemon
./linch-mind daemon restart     # é‡å¯daemon
./linch-mind daemon status      # daemonçŠ¶æ€
./linch-mind daemon logs        # æŸ¥çœ‹daemonæ—¥å¿—

./linch-mind ui [platform]      # å¯åŠ¨UI (macos/linux/windows/web/android/ios)
./linch-mind stop               # åœæ­¢æ‰€æœ‰æœåŠ¡
./linch-mind status             # å®Œæ•´ç³»ç»ŸçŠ¶æ€

# ç¯å¢ƒç®¡ç†å’Œè¯Šæ–­
./linch-mind doctor             # ç³»ç»Ÿå¥åº·è¯Šæ–­
./linch-mind reset [env] [--yes] # é‡ç½®ç¯å¢ƒæ•°æ®ï¼ˆå±é™©æ“ä½œï¼‰
```

### æŠ€æœ¯æ ˆè¯¦ç»†ç‰ˆæœ¬ (ç”Ÿäº§çº§)
- **åç«¯**: Python 3.13+ + Poetry 1.8+ + SQLAlchemy 2.0+ + SQLite/SQLCipher + å¼‚æ­¥IPC
- **å‰ç«¯**: Flutter 3.32+ + Dart 3.0+ + Riverpod 2.4+ + Freezed 2.5+ + å“åº”å¼æ¶æ„
- **AI/ML**: FAISS 1.8+ + NetworkX 3.4+ + Sentence Transformers 3.3+ + scikit-learn
- **è¿æ¥å™¨**: C++ 20 + CMake 3.20+ + è·¨å¹³å°å…±äº«åº“ + çƒ­æ’æ‹”æ”¯æŒ
- **å¼€å‘å·¥å…·**: Poetry + Black + Pytest + Flutter Test + CMake + è‡ªåŠ¨åŒ–CI
- **ç¯å¢ƒéš”ç¦»**: ~/.linch-mind/{env}/ å®Œæ•´ç›®å½•éš”ç¦» + ç¯å¢ƒæ„ŸçŸ¥é…ç½®
- **é…ç½®ç®¡ç†**: ç¯å¢ƒæ¨¡æ¿ + æ™ºèƒ½é…ç½®åˆå¹¶ + æ•°æ®åº“é…ç½®å­˜å‚¨
- **å®‰å…¨ç‰¹æ€§**: SQLCipherç”Ÿäº§ç¯å¢ƒåŠ å¯† + IPCæƒé™ç®¡ç† + è¿›ç¨‹èº«ä»½éªŒè¯
- **ç°ä»£åŒ–æ¶æ„**: ServiceFacade + æ ‡å‡†åŒ–é”™è¯¯å¤„ç† + DIå®¹å™¨ + ç¯å¢ƒç®¡ç†å™¨

## ğŸ“‹ é‡è¦å†³ç­–è®°å½•

### ç¯å¢ƒéš”ç¦»ç³»ç»Ÿå®æ–½ (2025-08-11) âœ… å·²å®Œæˆ
**å†³ç­–**: å®æ–½å®Œæ•´çš„ç¯å¢ƒéš”ç¦»ç®¡ç†ç³»ç»Ÿ
**å®Œæˆæˆæœ**:
- **ç›®å½•éš”ç¦»**: å®Œå…¨ç‹¬ç«‹çš„ç¯å¢ƒæ•°æ®ç›®å½• `~/.linch-mind/{env}/` âœ…
- **æ•°æ®åº“éš”ç¦»**: ç¯å¢ƒä¸“ç”¨æ•°æ®åº“ï¼Œç”Ÿäº§ç¯å¢ƒSQLCipheråŠ å¯† âœ…
- **é…ç½®ç»§æ‰¿**: æ™ºèƒ½é…ç½®åˆå¹¶ (é»˜è®¤ + ç¯å¢ƒ + æ•°æ®åº“) âœ…
- **è‡ªåŠ¨åˆå§‹åŒ–**: ä¸€é”®ç¯å¢ƒè®¾ç½®å’Œå¥åº·æ£€æŸ¥ `./linch-mind init` âœ…
- **çƒ­ç¯å¢ƒåˆ‡æ¢**: è¿è¡Œæ—¶ä¸´æ—¶ç¯å¢ƒåˆ‡æ¢æ”¯æŒ âœ…
- **é›¶ç ´åæ€§**: å‘åå…¼å®¹ï¼Œæ— ä»»ä½•Breaking Changes âœ…
**æŠ€æœ¯ç»„ä»¶** (ç”Ÿäº§å°±ç»ª):
- `core/environment_manager.py` - æ ¸å¿ƒç¯å¢ƒç®¡ç†å™¨ + çƒ­åˆ‡æ¢èƒ½åŠ›
- `scripts/initialize_environment.py` - æ™ºèƒ½åˆå§‹åŒ–ç³»ç»Ÿ + å¥åº·æ£€æŸ¥
- ç¯å¢ƒæ„ŸçŸ¥é…ç½®ç³»ç»Ÿå’Œæ•°æ®åº“æœåŠ¡ + åŠ å¯†æ”¯æŒ
**é‡å¤§æ„ä¹‰**: ä¼ä¸šçº§ç¯å¢ƒç®¡ç†èƒ½åŠ›ï¼Œæ”¯æŒå®‰å…¨çš„å¤šç¯å¢ƒéƒ¨ç½²å’Œå¼€å‘å·¥ä½œæµï¼Œç”Ÿäº§ç¯å¢ƒæ•°æ®åŠ å¯†ä¿æŠ¤

### P0ä»£ç é‡å¤æ¶ˆé™¤é‡æ„ (2025-08-08) âœ… å·²å®Œæˆ
**å†³ç­–**: å®æ–½ä»£ç é‡å¤æ¶ˆé™¤ä¸æ¶æ„ç°ä»£åŒ–é‡æ„
**å®Œæˆæˆæœ**:
- **ä»£ç é‡å¤ç‡**: ä» >60% é™ä½åˆ° <5%ï¼Œé‡å¤§çªç ´ âœ…
- **ServiceFacadeç³»ç»Ÿ**: ç»Ÿä¸€æœåŠ¡è·å–ï¼Œæ›¿ä»£91ä¸ªé‡å¤get_*_service()è°ƒç”¨ âœ…
- **æ ‡å‡†åŒ–é”™è¯¯å¤„ç†**: å»ºç«‹ç»Ÿä¸€æ¡†æ¶ï¼Œæ¶ˆé™¤424ä¸ªç›¸ä¼¼é”™è¯¯å¤„ç†æ¨¡å¼ âœ…
- **DIå®¹å™¨å¢å¼º**: ç§»é™¤@lru_cacheåŒå¥—ç³»ç»Ÿï¼Œç»Ÿä¸€ä½¿ç”¨ä¾èµ–æ³¨å…¥ âœ…
- **æµ‹è¯•éªŒè¯**: 31ä¸ªæ ¸å¿ƒç»„ä»¶æµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼Œæ¶æ„ç¨³å®šæ€§å®Œå…¨éªŒè¯ âœ…
**æŠ€æœ¯ç»„ä»¶** (ç”Ÿäº§å°±ç»ª):
- `core/service_facade.py` - ç»Ÿä¸€æœåŠ¡è·å–facade + è®¿é—®ç»Ÿè®¡
- `core/error_handling.py` - æ ‡å‡†åŒ–é”™è¯¯å¤„ç†æ¡†æ¶ + ä¸Šä¸‹æ–‡ç®¡ç†
- `core/container.py` - å¢å¼ºDIå®¹å™¨åŠŸèƒ½ + æœåŠ¡ç”Ÿå‘½å‘¨æœŸç®¡ç†
**æ˜¾è‘—æˆæ•ˆ**: ä»£ç è´¨é‡è·ƒå‡è‡³ç”Ÿäº§çº§åˆ«ï¼Œæ¶æ„ç°ä»£åŒ–å®Œæˆï¼ŒæŠ€æœ¯å€ºåŠ¡æ¸…é›¶ï¼Œé•¿æœŸå¯ç»´æŠ¤æ€§å¾—åˆ°æ ¹æœ¬ä¿éšœ

### IPCæ¶æ„è¿ç§» (2025-08-07)
**å†³ç­–**: ä» HTTP REST API è¿ç§»åˆ°çº¯IPCæ¶æ„
**ç†ç”±**:
- æ€§èƒ½æå‡: å»¶è¿Ÿé™ä½90%+, RPSæå‡10å€
- å®‰å…¨å¢å¼º: é›¶ç½‘ç»œæš´éœ²é£é™©
- ç®€åŒ–éƒ¨ç½²: æ— ç«¯å£å†²çªå’Œé˜²ç«å¢™é…ç½®
**å½±å“**: APIå®¢æˆ·ç«¯æ”¹ä¸ºIPCé€šä¿¡ï¼Œå‘åå…¼å®¹

---

## ğŸ” å¼€å‘æŒ‡å—

### åŸºæœ¬æµç¨‹
1. å·¥ä½œå‰æ£€æŸ¥ï¼šå½±å“èŒƒå›´ã€æŠ€æœ¯é£é™©ã€æµ‹è¯•è¦æ±‚
2. Sub-agentå’¨è¯¢ï¼šæ ¹æ®ä¿®æ”¹ç±»å‹é€‰æ‹©ç›¸åº”ä¸“å®¶
3. å®ç°å¼€å‘ï¼šéµå¾ªIPCæ¶æ„åŸåˆ™å’Œç°ä»£åŒ–æœåŠ¡è·å–æ¨¡å¼
4. æµ‹è¯•éªŒè¯ï¼šç¡®ä¿åŠŸèƒ½æ­£å¸¸è¿è¡Œ
5. æ–‡æ¡£æ›´æ–°ï¼šåŒæ­¥æ›´æ–°ç›¸å…³æ–‡æ¡£

### ğŸ†• ç°ä»£åŒ–æœåŠ¡è·å–æ¨¡å¼ (2025-08-08)
**å¿…é¡»ä½¿ç”¨ServiceFacadeç»Ÿä¸€æœåŠ¡è·å–ï¼Œç¦æ­¢é‡å¤çš„get_*_service()è°ƒç”¨**

```python
# âœ… æ­£ç¡®çš„æœåŠ¡è·å–æ–¹å¼
from core.service_facade import get_service, get_connector_manager

# ç»Ÿä¸€facadeæ¨¡å¼
connector_manager = get_service(ConnectorManager)
database_service = get_service(DatabaseService)

# ä¸“ç”¨å¿«æ·å‡½æ•°
connector_manager = get_connector_manager()
```

```python
# âŒ å·²åºŸå¼ƒçš„æ–¹å¼ - ç¦æ­¢ä½¿ç”¨
from services.utils import get_connector_manager  # é‡å¤è°ƒç”¨
from functools import lru_cache  # åŒå¥—ä¾èµ–ç³»ç»Ÿ
```

### ğŸ†• æ ‡å‡†åŒ–é”™è¯¯å¤„ç†æ¨¡å¼
**å¿…é¡»ä½¿ç”¨ç»Ÿä¸€é”™è¯¯å¤„ç†æ¡†æ¶ï¼Œæ¶ˆé™¤é‡å¤try-exceptæ¨¡å¼**

```python
# âœ… æ ‡å‡†åŒ–é”™è¯¯å¤„ç†
from core.error_handling import handle_errors, ErrorSeverity, ErrorCategory

@handle_errors(
    severity=ErrorSeverity.HIGH,
    category=ErrorCategory.IPC_COMMUNICATION,
    user_message="è¿æ¥å™¨æ“ä½œå¤±è´¥",
    recovery_suggestions="æ£€æŸ¥è¿æ¥å™¨çŠ¶æ€"
)
def connector_operation():
    # ä¸šåŠ¡é€»è¾‘
    pass
```

### ğŸ”’ æŠ€æœ¯æ¶æ„é“å¾‹ä¸å¼ºåˆ¶çº¦æŸ

#### ğŸ’€ IPCé€šä¿¡æ¶æ„é“å¾‹
- **ç»å¯¹å¼ºåˆ¶**ï¼šæ‰€æœ‰daemon-uié€šä¿¡å¿…é¡»ä½¿ç”¨Unix Socket/Named Pipe
- **ç»å¯¹ç¦æ­¢**ï¼šHTTP REST APIã€WebSocketã€TCP Socketç­‰ç½‘ç»œåè®®
- **å®ç°çŠ¶æ€**ï¼šâœ… Unix Socketå®Œæˆ + Windows Named Pipeæ”¯æŒ + å®Œæ•´IPCåè®®æ ˆ
- **æ ¸å¿ƒç»„ä»¶**ï¼šIPCServer + IPCProtocol + IPCRouter + IPCMiddleware + IPCSecurity
- **æ€§èƒ½ç›®æ ‡**ï¼šIPCå»¶è¿Ÿ<5msï¼ŒRPS>10,000ï¼ˆå·²å®ç°å¼‚æ­¥å¤„ç†ï¼‰
- **å®‰å…¨ç‰¹æ€§**ï¼šSocketæƒé™ç®¡ç† + å®¢æˆ·ç«¯è®¤è¯ + æ•°æ®åŠ å¯†ä¼ è¾“
- **é”™è¯¯å¤„ç†**ï¼šç»Ÿä¸€IPCErrorCodeä½“ç³» + è‡ªåŠ¨é‡è¿æœºåˆ¶ + æ–­çº¿æ£€æµ‹

#### ğŸ’€ ä¾èµ–ç®¡ç†é“å¾‹
- **ç»å¯¹å¼ºåˆ¶**ï¼šPythonä¾èµ–å¿…é¡»ä½¿ç”¨Poetryç®¡ç†ï¼ˆpyproject.tomlï¼‰
- **ç»å¯¹ç¦æ­¢**ï¼špip installã€conda installã€requirements.txt
- **ç‰ˆæœ¬é”å®š**ï¼šæ‰€æœ‰ä¾èµ–å¿…é¡»æœ‰æ˜ç¡®ç‰ˆæœ¬èŒƒå›´çº¦æŸ
- **å®‰å…¨å®¡è®¡**ï¼šæ–°ä¾èµ–å¿…é¡»é€šè¿‡safety checkæ‰«æ

#### ğŸ’€ æ„å»ºå·¥å…·é“¾é“å¾‹
- **C++è¿æ¥å™¨**ï¼šå¿…é¡»ä½¿ç”¨CMakeæ„å»ºï¼Œç¦æ­¢æ‰‹åŠ¨ç¼–è¯‘
- **Flutter UI**ï¼šå¿…é¡»ä½¿ç”¨RiverpodçŠ¶æ€ç®¡ç†ï¼Œç¦æ­¢setStateç­‰åŸå§‹æ–¹å¼
- **PythonæœåŠ¡**ï¼šå¿…é¡»ä½¿ç”¨SQLAlchemy ORMï¼Œç¦æ­¢åŸå§‹SQL
- **å‘é‡æœç´¢**ï¼šå¿…é¡»ä½¿ç”¨FAISSç´¢å¼•ï¼Œç¦æ­¢æš´åŠ›æœç´¢ç®—æ³•

#### ğŸ’€ ä»£ç è´¨é‡é“å¾‹ (2025-08-08)
- **æœåŠ¡è·å–**ï¼šå¿…é¡»ä½¿ç”¨ServiceFacadeï¼Œç¦æ­¢é‡å¤get_*_service()è°ƒç”¨
- **é”™è¯¯å¤„ç†**ï¼šå¿…é¡»ä½¿ç”¨æ ‡å‡†åŒ–é”™è¯¯æ¡†æ¶ï¼Œç¦æ­¢é‡å¤try-exceptæ¨¡å¼
- **ä¾èµ–ç®¡ç†**ï¼šå¿…é¡»ä½¿ç”¨DIå®¹å™¨ï¼Œç¦æ­¢@lru_cacheç­‰åŒå¥—ç³»ç»Ÿ
- **ä»£ç é‡å¤**ï¼šé‡å¤ç‡å¿…é¡»<5%ï¼Œè¶…è¿‡ç«‹å³é‡æ„

#### ğŸ’€ é…ç½®ç®¡ç†é“å¾‹ (2025-08-16) 
- **é…ç½®æ ¼å¼å¼ºåˆ¶**ï¼šå¿…é¡»ä½¿ç”¨TOMLæ ¼å¼ï¼Œä¸¥ç¦YAML/JSONé…ç½®æ–‡ä»¶
- **ç¯å¢ƒå˜é‡ç¦ç”¨**ï¼šä¸¥ç¦ä¾èµ–ç¯å¢ƒå˜é‡ï¼Œå¿…é¡»ä½¿ç”¨é…ç½®æ–‡ä»¶é©±åŠ¨
- **é…ç½®æ–‡ä»¶ä½ç½®**ï¼šå¿…é¡»ä½¿ç”¨~/.linch-mind/{env}/config/linch-mind.toml
- **é…ç½®ç®¡ç†å·¥å…·**ï¼šå¿…é¡»ä½¿ç”¨scripts/config_manager_cli.pyç®¡ç†é…ç½®
- **IDEé…ç½®åŒæ­¥**ï¼šä¿®æ”¹é…ç½®åå¿…é¡»åŒæ­¥æ›´æ–°IDEè®¾ç½®

#### ğŸ’€ ç¯å¢ƒä¸éƒ¨ç½²é“å¾‹ (2025-08-11)
- **ç¯å¢ƒéš”ç¦»**ï¼šå¿…é¡»ä½¿ç”¨EnvironmentManagerï¼Œç¦æ­¢ç¡¬ç¼–ç è·¯å¾„
- **æ•°æ®å®‰å…¨**ï¼šç”Ÿäº§ç¯å¢ƒå¿…é¡»å¯ç”¨SQLCipheråŠ å¯†
- **åˆå§‹åŒ–æµç¨‹**ï¼šæ–°ç¯å¢ƒå¿…é¡»é€šè¿‡./linch-mind initåˆå§‹åŒ–
- **ç¯å¢ƒåˆ‡æ¢**ï¼šç¦æ­¢åœ¨ç”Ÿäº§ç¯å¢ƒç›´æ¥åˆ‡æ¢ï¼Œå¿…é¡»é€šè¿‡éƒ¨ç½²æµç¨‹
- **ç›®å½•ç»“æ„**ï¼šä¸¥æ ¼éµå¾ª~/.linch-mind/{env}/ç›®å½•éš”ç¦»
- **é…ç½®ç®¡ç†**ï¼šä½¿ç”¨ç¯å¢ƒæ¨¡æ¿ï¼Œç¦æ­¢è·¨ç¯å¢ƒé…ç½®æ±¡æŸ“

#### ğŸ’€ æ€§èƒ½ä¸è´¨é‡é“å¾‹
- **å¯åŠ¨æ—¶é—´**ï¼šåº”ç”¨å†·å¯åŠ¨å¿…é¡»<3sï¼Œçƒ­å¯åŠ¨<1s
- **å†…å­˜ä½¿ç”¨**ï¼šDaemonå³°å€¼å†…å­˜<500MBï¼ŒUI<200MB
- **æµ‹è¯•è¦†ç›–**ï¼šæ–°åŠŸèƒ½ä»£ç è¦†ç›–ç‡å¿…é¡»>80%
- **æ–‡æ¡£åŒæ­¥**ï¼šæ¶æ„å˜æ›´å¿…é¡»åŒæ­¥æ›´æ–°æ–‡æ¡£ï¼Œå»¶è¿Ÿä¸å¾—>24å°æ—¶

---

## ğŸ”§ é…ç½®ç®¡ç†ç³»ç»Ÿ

### ğŸ“‹ **å¼ºåˆ¶è¦æ±‚ï¼šTOMLé…ç½®æ–‡ä»¶ç³»ç»Ÿ**

#### ğŸš« **ä¸¥æ ¼ç¦æ­¢**
- âŒ ä½¿ç”¨YAMLé…ç½®æ–‡ä»¶ (å¦‚ config.yaml, settings.yml)
- âŒ ä½¿ç”¨JSONé…ç½®æ–‡ä»¶ (å¦‚ config.json, settings.json)
- âŒ ä¾èµ–ç¯å¢ƒå˜é‡é…ç½® (å¦‚ export OLLAMA_HOST=...)
- âŒ åœ¨ä»£ç ä¸­ç¡¬ç¼–ç é…ç½®å€¼

#### âœ… **å¿…é¡»ä½¿ç”¨**
- âœ… TOMLæ ¼å¼é…ç½®æ–‡ä»¶ï¼š`~/.linch-mind/{env}/config/linch-mind.toml`
- âœ… é…ç½®ç®¡ç†CLIå·¥å…·ï¼š`scripts/config_manager_cli.py`
- âœ… ç¼–ç¨‹æ¥å£ï¼š`from config.user_config_manager import get_user_config`

### ğŸ—ï¸ **é…ç½®æ–‡ä»¶ç»“æ„**
```toml
app_name = "Linch Mind"
version = "0.1.0"
debug = true

[database]
type = "sqlite"
use_encryption = false
sqlite_file = "linch_mind.db"

[ollama]
host = "http://localhost:11434"
embedding_model = "nomic-embed-text:latest"
llm_model = "qwen2.5:0.5b"
value_threshold = 0.3

[vector]
provider = "faiss"
vector_dimension = 384
compressed_dimension = 256

[ipc]
auth_required = true
max_connections = 100
```

### ğŸ› ï¸ **é…ç½®ç®¡ç†æ“ä½œ**

#### åˆå§‹åŒ–é…ç½®
```bash
poetry run python scripts/config_manager_cli.py init --format toml
```

#### æŸ¥çœ‹å½“å‰é…ç½®
```bash
poetry run python scripts/config_manager_cli.py show
```

#### ç¼–è¾‘é…ç½®é¡¹
```bash
poetry run python scripts/config_manager_cli.py edit ollama.llm_model "qwen2.5:1b"
poetry run python scripts/config_manager_cli.py edit database.use_encryption true
```

#### éªŒè¯é…ç½®
```bash
poetry run python scripts/config_manager_cli.py validate
```

### ğŸ’» **ç¼–ç¨‹æ¥å£ä½¿ç”¨**
```python
# è·å–é…ç½®
from config.user_config_manager import get_user_config
config = get_user_config()

# ä½¿ç”¨é…ç½®
print(f"æ•°æ®åº“ç±»å‹: {config.database.type}")
print(f"Ollamaä¸»æœº: {config.ollama.host}")
print(f"å‘é‡ç»´åº¦: {config.vector.vector_dimension}")
```

### ğŸŒ **ç¯å¢ƒç‰¹å®šé…ç½®**
- **å¼€å‘ç¯å¢ƒ**: `~/.linch-mind/development/config/linch-mind.toml`
- **æµ‹è¯•ç¯å¢ƒ**: `~/.linch-mind/staging/config/linch-mind.toml`
- **ç”Ÿäº§ç¯å¢ƒ**: `~/.linch-mind/production/config/linch-mind.toml`

### ğŸ’¡ **IDEé…ç½®ç¤ºä¾‹**

**VS Codeè®¾ç½®** (`.vscode/settings.json`):
```json
{
  "python.defaultInterpreterPath": "./daemon/.venv/bin/python",
  "terminal.integrated.env.osx": {
    "PYTHONPATH": "${workspaceFolder}/daemon"
  }
}
```

**PyCharmè®¾ç½®**:
1. Pythonè§£é‡Šå™¨: `./daemon/.venv/bin/python`
2. å·¥ä½œç›®å½•: `./daemon`
3. ç¯å¢ƒå˜é‡: `PYTHONPATH=./daemon`

---

*ç‰ˆæœ¬: v13.0 | åˆ›å»ºæ—¶é—´: 2025-07-25 | æœ€åæ›´æ–°: 2025-08-16*
*ğŸš€ é‡å¤§æ›´æ–°: å®Œæ•´TOMLé…ç½®æ–‡ä»¶ç³»ç»Ÿ + é›¶ç¯å¢ƒå˜é‡ä¾èµ– + ç”¨æˆ·å‹å¥½é…ç½®ç®¡ç†*
*ğŸ“Š å…³é”®æˆæœ: ä»£ç é‡å¤ç‡<5% + 31ä¸ªæ ¸å¿ƒæµ‹è¯•å…¨é€šè¿‡ + IPCæ€§èƒ½<1ms + TOMLç»Ÿä¸€é…ç½®*
*âš”ï¸ æ¶æ„é“å¾‹: å¼ºåˆ¶TOMLé…ç½® + ç¦ç”¨ç¯å¢ƒå˜é‡ + æ ‡å‡†åŒ–é…ç½®ç®¡ç† + IDEé…ç½®åŒæ­¥*
