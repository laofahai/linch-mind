# ğŸ¯ Linch Mind CI/CD ç»Ÿä¸€ç‰ˆæœ¬é…ç½®
# æ‰€æœ‰å·¥ä½œæµéƒ½ä»æ­¤æ–‡ä»¶è¯»å–ç‰ˆæœ¬ä¿¡æ¯ï¼Œç¡®ä¿ä¸€è‡´æ€§

versions:
  # æ ¸å¿ƒè¿è¡Œæ—¶ç‰ˆæœ¬
  flutter: "3.24.3"
  python: "3.11"
  java: "17"
  node: "20"
  
  # æ„å»ºå·¥å…·ç‰ˆæœ¬
  poetry: "1.7.1"
  xcode: "15.0"
  
  # CI/CDå·¥å…·ç‰ˆæœ¬
  actions:
    checkout: "v4"
    setup_python: "v4"
    setup_java: "v3"
    setup_node: "v4"
    upload_artifact: "v4"
    download_artifact: "v4"
    cache: "v3"

# ç¯å¢ƒé…ç½®
environments:
  development:
    registry_url: "http://localhost:8001"
    daemon_url: "http://localhost:8000"
  
  staging:
    registry_url: "https://staging-registry.linch-mind.com"
    daemon_url: "https://staging-api.linch-mind.com"
  
  production:
    registry_url: "https://registry.linch-mind.com"
    daemon_url: "https://api.linch-mind.com"

# æ„å»ºé…ç½®
build:
  # é»˜è®¤æ„å»ºå¹³å°
  platforms:
    flutter: ["linux", "macos", "windows"]
    connectors: ["ubuntu-latest", "windows-latest", "macos-latest"]
  
  # è´¨é‡é—¨ç¦é…ç½®
  quality_gates:
    test_coverage_threshold: 80
    security_scan_severity: "high"
    code_style_enforcement: true
  
  # æ„å»ºä¼˜åŒ–
  cache_strategy:
    flutter: true
    python: true
    node: true
    gradle: true

# å‘å¸ƒé…ç½®
release:
  # è‡ªåŠ¨å‘å¸ƒæ¡ä»¶
  auto_release:
    branches: ["main"]
    path_patterns: ["ui/**", "daemon/**", "connectors/**"]
  
  # ç‰ˆæœ¬ç­–ç•¥
  versioning:
    strategy: "semantic"
    auto_increment: true
    tag_prefix: "v"

# é€šçŸ¥é…ç½®
notifications:
  slack_webhook: ""  # ç•™ç©ºï¼Œä»secretsè¯»å–
  discord_webhook: ""  # ç•™ç©ºï¼Œä»secretsè¯»å–
  email_recipients: []